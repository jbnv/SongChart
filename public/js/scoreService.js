function ScoreService() { 
var data = 
[
[ 'calendar:1991-09', 100, 175 ],
[ 'calendar:1991-09', 99, 176 ],
[ 'calendar:1990-10', 80, 177 ],
[ 'calendar:1990-09', 70, 14 ],
[ 'calendar:1990-09', 100, 178 ],
[ 'calendar:1990-10', 60, 178 ],
[ 'calendar:1990-09', 80, 179 ],
[ 'calendar:1990-09', 75, 180 ],
[ 'calendar:1990-08', 85, 181 ],
[ 'calendar:1990-09', 60, 182 ],
[ 'calendar:1990-08', 50, 183 ],
[ 'calendar:1990-09', 30, 184 ],
[ 'calendar:1990-09', 65, 185 ],
[ 'calendar:1990-09', 96, 186 ],
[ 'calendar:1990-08', 75, 187 ],
[ 'calendar:1990-09', 100, 100 ],
[ 'calendar:1990-10', 90, 100 ],
[ 'calendar:1990-09', 45, 193 ],
[ 'calendar:1990-09', 98, 156 ],
[ 'calendar:1990-09', 55, 194 ],
[ 'calendar:1990-09', 100, 195 ],
[ 'calendar:1990-10', 80, 195 ],
[ 'calendar:1990-09', 40, 196 ],
[ 'calendar:1990-08', 60, 197 ],
[ 'calendar:1990-08', 85, 198 ],
[ 'calendar:1990-09', 72, 199 ],
[ 'calendar:1990-09', 25, 200 ],
[ 'calendar:1988-07', 100, 138 ],
[ 'calendar:1988-08', 100, 138 ],
[ 'calendar:1988', 75, 138 ],
[ 'calendar:1990-09', 35, 201 ],
[ 'calendar:1990-08', 66, 202 ],
[ 'calendar:1990-09', 89, 203 ],
[ 'calendar:1993-09', 85, 40 ],
[ 'calendar:1990-08', 45, 204 ],
[ 'calendar:1990-09', 85, 205 ],
[ 'calendar:1990-09', 60, 206 ],
[ 'calendar:1990-08', 92, 207 ],
[ 'calendar:1990-09', 87, 207 ],
[ 'calendar:1990-08', 89, 208 ],
[ 'calendar:1990-09', 97, 208 ],
[ 'calendar:1990-08', 60, 209 ],
[ 'calendar:1990-09', 65, 210 ],
[ 'calendar:1990-08', 40, 211 ],
[ 'calendar:1987-09', 93, 212 ],
[ 'calendar:1987-09', 96, 213 ],
[ 'calendar:1987-09', 80, 214 ],
[ 'calendar:1987-07', 100, 215 ],
[ 'calendar:1987-08', 80, 215 ],
[ 'calendar:1987-07', 95, 146 ],
[ 'calendar:1987-07', 94, 216 ],
[ 'calendar:1987-08', 90, 217 ],
[ 'calendar:1987-08', 50, 218 ],
[ 'calendar:1987-07', 75, 219 ],
[ 'calendar:1987-08', 60, 220 ],
[ 'calendar:1987-09', 40, 221 ],
[ 'calendar:1987-08', 45, 222 ],
[ 'calendar:1987-09', 75, 152 ],
[ 'calendar:1987-09', 94, 223 ],
[ 'calendar:1987-08', 72, 224 ],
[ 'calendar:1987-09', 60, 225 ],
[ 'calendar:1987-08', 70, 92 ],
[ 'calendar:1987-08', 75, 226 ],
[ 'calendar:1987-09', 75, 226 ],
[ 'calendar:1987-08', 70, 227 ],
[ 'calendar:1987-08', 55, 228 ],
[ 'calendar:1987-08', 87, 229 ],
[ 'calendar:1987-08', 75, 230 ],
[ 'calendar:1987-09', 62, 231 ],
[ 'calendar:1987-09', 88, 232 ],
[ 'calendar:1987-08', 30, 233 ],
[ 'calendar:1987-08', 65, 234 ],
[ 'calendar:1987-09', 58, 235 ],
[ 'calendar:1987-09', 70, 217 ],
[ 'calendar:1987-08', 72, 236 ],
[ 'calendar:1987-08', 91, 237 ],
[ 'calendar:1987-09', 90, 237 ],
[ 'calendar:1987-08', 77, 238 ],
[ 'calendar:1987-08', 74, 239 ],
[ 'calendar:1988-07', 100, 137 ],
[ 'calendar:1987-08', 89, 240 ],
[ 'calendar:1987-09', 70, 240 ],
[ 'calendar:1987-08', 81, 241 ],
[ 'calendar:1987-08', 66, 242 ],
[ 'calendar:1987-08', 85, 243 ],
[ 'calendar:1987-08', 70, 244 ],
[ 'calendar:1987-09', 80, 244 ],
[ 'calendar:1987-10', 83, 25 ],
[ 'calendar:1988-10', 100, 245 ],
[ 'calendar:1992-08', 100, 246 ],
[ 'calendar:1992-09', 90, 246 ],
[ 'calendar:1992-09', 98, 247 ],
[ 'calendar:1992-08', 97, 248 ],
[ 'calendar:1992-08', 90, 249 ],
[ 'calendar:1992-09', 100, 249 ],
[ 'calendar:1992-10', 90, 249 ],
[ 'calendar:1992-08', 89, 250 ],
[ 'calendar:1992-08', 85, 55 ],
[ 'calendar:1992-09', 85, 55 ],
[ 'calendar:1992-08', 87, 251 ],
[ 'calendar:1987-04', 100, 252 ],
[ 'calendar:1992-08', 50, 253 ],
[ 'calendar:1992-09', 80, 253 ],
[ 'calendar:1992-10', 75, 253 ],
[ 'calendar:1992-08', 75, 254 ],
[ 'calendar:1992-08', 70, 255 ],
[ 'calendar:1992-08', 83, 256 ],
[ 'calendar:1992-08', 68, 168 ],
[ 'calendar:1992-08', 67, 257 ],
[ 'calendar:1991-08', 100, 122 ],
[ 'calendar:1991-09', 95, 122 ],
[ 'calendar:1991-10', 85, 122 ],
[ 'calendar:1991-08', 90, 175 ],
[ 'calendar:1991-10', 99, 175 ],
[ 'calendar:1991-11', 96, 175 ],
[ 'calendar:1991-12', 80, 175 ],
[ 'calendar:1991-08', 95, 258 ],
[ 'calendar:1991-10', 98, 176 ],
[ 'calendar:1991-11', 93, 176 ],
[ 'calendar:1991-09', 92, 259 ],
[ 'calendar:1991-10', 89, 260 ],
[ 'calendar:1991-09', 87, 53 ],
[ 'calendar:1982-04', 100, 264 ],
[ 'calendar:1982-04', 99, 265 ],
[ 'calendar:1990-10', 45, 208 ],
[ 'calendar:1980-05', 100, 266 ],
[ 'calendar:1999-08', 87, 267 ],
[ 'calendar:1999-09', 80, 268 ],
[ 'calendar:1986-09', 75, 269 ],
[ 'calendar:1986-10', 100, 269 ],
[ 'calendar:1986-10', 75, 270 ],
[ 'calendar:1986-08', 30, 272 ],
[ 'calendar:1986-09', 50, 271 ],
[ 'calendar:1986-09', 72, 273 ],
[ 'calendar:1986-10', 99, 273 ],
[ 'calendar:1986-08', 86, 274 ],
[ 'calendar:1986-09', 88, 275 ],
[ 'calendar:1986-08', 35, 276 ],
[ 'calendar:1986-09', 91, 277 ],
[ 'calendar:1986-10', 83, 277 ],
[ 'calendar:1986-08', 80, 278 ],
[ 'calendar:1986-09', 65, 279 ],
[ 'calendar:1986-09', 70, 280 ],
[ 'calendar:1986-09', 92, 281 ],
[ 'calendar:1986-09', 98, 282 ],
[ 'calendar:1986-08', 87, 283 ],
[ 'calendar:1986-08', 45, 284 ],
[ 'calendar:1986-08', 100, 285 ],
[ 'calendar:1986-09', 70, 285 ],
[ 'calendar:1986-09', 80, 286 ],
[ 'calendar:1986-10', 80, 286 ],
[ 'calendar:1986-08', 78, 287 ],
[ 'calendar:1983', 100, 288 ],
[ 'calendar:1990', 100, 289 ],
[ 'calendar:1986-09', 85, 290 ],
[ 'calendar:1986-09', 50, 291 ],
[ 'calendar:1986-08', 75, 292 ],
[ 'calendar:1986-09', 55, 292 ],
[ 'calendar:1986-08', 100, 293 ],
[ 'calendar:1986-09', 90, 293 ],
[ 'calendar:1986-08', 79, 294 ],
[ 'calendar:1986-08', 75, 295 ],
[ 'calendar:1995-08', 80, 296 ],
[ 'calendar:1995', 100, 297 ],
[ 'calendar:1995-09', 86, 298 ],
[ 'calendar:1989', 100, 299 ],
[ 'calendar:1989', 100, 300 ],
[ 'calendar:1986-12', 100, 301 ],
[ 'calendar:1987-03', 100, 302 ],
[ 'calendar:1987-05', 95, 303 ],
[ 'calendar:1987-04', 100, 110 ],
[ 'calendar:1987-07', 97, 304 ],
[ 'calendar:1987-06', 97, 304 ],
[ 'calendar:1987-08', 50, 304 ],
[ 'calendar:1988-06', 89, 137 ],
[ 'calendar:1988-08', 60, 137 ],
[ 'calendar:1989', 100, 305 ],
[ 'calendar:1989', 100, 306 ],
[ 'calendar:1989', 90, 307 ],
[ 'calendar:1990', 100, 308 ],
[ 'calendar:1987', 95, 309 ],
[ 'calendar:1983-04', 100, 76 ],
[ 'calendar:1989', 90, 310 ],
[ 'calendar:1989', 99, 311 ],
[ 'calendar:1989', 100, 24 ],
[ 'calendar:1990', 98, 312 ],
[ 'calendar:1993', 99, 313 ],
[ 'calendar:1993-06', 100, 314 ],
[ 'calendar:1993-09', 100, 315 ],
[ 'calendar:1988', 65, 316 ],
[ 'calendar:1987-08', 97, 317 ],
[ 'calendar:1988', 60, 319 ],
[ 'calendar:1985', 67, 320 ],
[ 'calendar:1987-09', 45, 321 ],
[ 'calendar:1986', 82, 322 ],
[ 'calendar:1995-08', 100, 323 ],
[ 'calendar:1984-01', 90, 326 ],
[ 'calendar:1988', 65, 327 ],
[ 'calendar:1986', 70, 328 ],
[ 'calendar:1983', 85, 329 ],
[ 'calendar:1995-08', 80, 330 ],
[ 'calendar:1995-09', 82, 331 ],
[ 'calendar:1983-08', 78, 332 ],
[ 'calendar:1995-09', 75, 333 ],
[ 'calendar:1995-09', 85, 323 ],
[ 'calendar:1999-09', 94, 334 ],
[ 'calendar:1995-08', 90, 335 ],
[ 'calendar:1995-09', 40, 336 ],
[ 'calendar:1995-09', 65, 337 ],
[ 'calendar:1995-08', 60, 338 ],
[ 'calendar:1995-09', 72, 339 ],
[ 'calendar:1995-09', 73, 340 ],
[ 'calendar:1995-09', 55, 341 ],
[ 'calendar:1987-08', 97, 342 ],
[ 'calendar:1984', 95, 12 ],
[ 'calendar:1989', 98, 343 ],
[ 'calendar:1986', 100, 344 ],
[ 'calendar:1995-09', 83, 345 ],
[ 'calendar:1995-09', 58, 346 ],
[ 'calendar:1995-09', 50, 347 ],
[ 'calendar:1995-09', 83, 348 ],
[ 'calendar:1995-09', 63, 349 ],
[ 'calendar:1995-09', 92, 350 ],
[ 'calendar:1993', 81, 351 ],
[ 'calendar:1992', 90, 22 ],
[ 'calendar:1983-09', 80, 352 ],
[ 'calendar:1983-09', 80, 353 ],
[ 'calendar:1983-08', 50, 354 ],
[ 'calendar:1983-10', 60, 355 ],
[ 'calendar:1983-09', 70, 356 ],
[ 'calendar:1983-09', 81, 357 ],
[ 'calendar:1983-09', 85, 358 ],
[ 'calendar:1983-08', 99, 359 ],
[ 'calendar:1983-09', 89, 359 ],
[ '2009', 100, 360 ],
[ '2009', 100, 361 ],
[ 'calendar:1983', 30, 362 ],
[ 'calendar:1990s', 100, 363 ],
[ 'calendar:1988', 30, 364 ],
[ 'calendar:1983', 100, 63 ],
[ 'calendar:1983', 58, 366 ],
[ 'calendar:1983', 80, 367 ],
[ 'calendar:1983', 75, 368 ],
[ 'calendar:1983', 58, 77 ],
[ 'calendar:1983', 82, 370 ],
[ 'calendar:1983', 50, 371 ],
[ 'calendar:1983-04', 40, 372 ],
[ 'calendar:1983', 84, 74 ],
[ 'calendar:1983-06', 20, 373 ],
[ 'calendar:1983-09', 100, 374 ],
[ 'calendar:1978', 85, 375 ],
[ 'calendar:1983', 20, 376 ],
[ 'calendar:1996', 90, 377 ],
[ 'calendar:1985', 92, 378 ],
[ 'calendar:1978', 80, 379 ],
[ 'calendar:1978', 90, 380 ],
[ 'calendar:1982-07', 88, 381 ],
[ 'calendar:1982-07', 94, 89 ],
[ 'calendar:1982-07', 80, 383 ],
[ 'calendar:1982', 60, 41 ],
[ 'calendar:1982-07', 58, 385 ],
[ 'calendar:1982-07', 78, 387 ],
[ 'calendar:1990', 80, 46 ],
[ 'calendar:1990', 50, 389 ],
[ 'calendar:1991-09', 90, 56 ],
[ 'calendar:1992', 92, 390 ],
[ 'calendar:1993-08', 85, 391 ],
[ 'calendar:1983', 97, 392 ],
[ 'calendar:1990s', 98, 393 ],
[ 'calendar:1993-07', 93, 394 ],
[ 'calendar:1999', 100, 395 ],
[ 'calendar:1995', 80, 39 ],
[ 'calendar:1996', 100, 396 ],
[ 'calendar:1989-12', 70, 397 ],
[ 'calendar:1996', 40, 398 ],
[ 'calendar:1999', 95, 399 ],
[ 'calendar:1995', 84, 401 ],
[ 'calendar:1998', 80, 402 ],
[ 'calendar:1997', 75, 403 ],
[ 'calendar:1987', 75, 133 ],
[ 'calendar:1997', 30, 404 ],
[ 'calendar:1994', 30, 405 ],
[ 'calendar:1995', 97, 406 ],
[ 'calendar:1995', 98, 407 ],
[ 'calendar:1994', 60, 408 ],
[ 'calendar:1994', 82, 409 ]
];

	// data: [ calendar, score, songId ]
	// calendar: array[decade][year][month] = [ [songId,score] ];

	
	// Convert Wikidot date string to navigable path.
	function interpretDateString(dateString) {
		dateString = dateString.replace(/calendar:/,'');
		return dateString;
	}
	
	// Reduce data to a structure that is easily navigated: decade -> year -> month
	var calendar = {}
	for (var index in data) {
		row = data[index];
		dateString = interpretDateString(row[0]);
		if (!calendar[dateString]) {
			calendar[dateString] = [];
		}
		calendar[dateString].push([row[2],row[1]]);
	}
	
	var monthSuffixes = [ '01','02','03','04','05','06','07','08','09','10','11','12' ];
	
	function fold(oTarget, dateString) {
		angular.forEach(calendar[dateString], function(value, index) {
			songId = value[0];
			score = value[1];
			this[songId] = (this[songId] || 0) + score;
		}, oTarget);
	}

	this.getData = function(dateString) {
	
		oReturn = {};
		fold (oReturn,dateString);
/*TODO LATER Support decades.		
		if (/^\d\d\d\ds$/.test(dateString)) {
			decade = parseInt(dateString.match(/\d\d\d\d/)[0]);
			for (year = decade; year < decade+10; year++) {
				fold (oReturn, ''+year);
				for (index in monthSuffixes) {
					monthString = ''+year+'-'+monthSuffixes[index];
					fold(oReturn, monthString);
				}
			}
		} else 
FOR NOW Assume date string given is a year or a month.		
*/		if (/^\d\d\d\d$/.test(dateString)) {
			for (index in monthSuffixes) {
				monthString = dateString+'-'+monthSuffixes[index];
				fold(oReturn, monthString);
			}
		} else {
		}
		return oReturn;
	}
	
};
